{% load static %}
<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>PIICO - Gateway</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="{% static 'assets/images/icon/icono.ico' %}" />
    <link rel="shortcut icon" type="image/png" href="{% static 'assets/images/icon/favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/themify-icons.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/metisMenu.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/slicknav.min.css' %}">
    <!-- amcharts css -->
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css"
        media="all" />
    <!-- Start datatable css -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.18/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap.min.css">
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.jqueryui.min.css">
    <!-- style css -->
    <link rel="stylesheet" href="{% static 'assets/css/typography.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/default-css.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/responsive.css' %}">
    <!-- modernizr css -->
    <script src="{%static 'assets/js/vendor/modernizr-2.8.3.min.js' %}"></script>
</head>

<body>
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <!-- preloader area start -->
    <div id="preloader">
        <div class="loader"></div>
    </div>
    <!-- preloader area end -->
    <!-- page container area start -->
    <div class="page-container">
        <!-- sidebar menu area start -->
        <div class="sidebar-menu">
            <div class="sidebar-header">
                <div class="logo">
                    <a href="index3.html"><img src="{% static 'assets/images/icon/iconoPiico.png' %}" alt="logo"></a>
                    <h3 class="text-white">PIICO</h3>
                    <h5 class="text-white">Gateway</h5>
                </div>
            </div>
            <div class="main-menu">
                <div class="menu-inner">
                    <nav>
                        <ul class="metismenu" id="menu">
                            <li class="active">
                                <a href="http://127.0.0.1:8000/" aria-expanded="true"><i
                                        class="ti-dashboard"></i><span>Dispositivos Conectados</span></a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" aria-expanded="true"><i
                                        class="ti-pie-chart"></i><span>Redes</span></a>
                                <ul class="collapse">
                                    <li><a href="http://127.0.0.1:8000/wifi/">WIFI</a></li>
                                    <li><a href="http://127.0.0.1:8000/bluetooth/">Bluetooth</a></li>
                                    <li><a href="http://127.0.0.1:8000/zigbee/">Zigbee</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="javascript:void(0)" aria-expanded="true"><i
                                        class="ti-dashboard"></i><span>Broker público</span></a>
                                <ul class="collapse">
                                    <li><a href="publicador.html">Publicador</a></li>
                                    <li><a href="suscriptor.html">Suscriptor</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="brokerPriv.html" aria-expanded="true"><i class="ti-dashboard"></i><span>Broker
                                        privado</span></a>
                                <ul class="collapse">
                                    <li><a href="publicadorPriv.html">Publicador</a></li>
                                    <li><a href="suscriptorPriv.html">Suscriptor</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="http://127.0.0.1:8000/administrador/" aria-expanded="true"><i
                                        class="ti-palette"></i><span>Administrador</span></a>
                            </li>
                            <li>
                                <a href="/" aria-expanded="true"><i class="ti-palette"></i><span>Regresar a pagina
                                        Principal</span></a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
        <!-- sidebar menu area end -->
        <!-- main content area start -->
        <div class="main-content">
            <!-- header area start -->
            <div class="header-area">
                <div class="row align-items-center">
                    <!-- nav and search button -->
                    <div class="col-md-6 col-sm-8 clearfix">
                        <div class="nav-btn pull-left">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                    <!-- profile info & task notification -->
                    <div class="col-md-6 col-sm-4 clearfix">
                        <ul class="notification-area pull-right">
                            <li id="full-view"><i class="ti-fullscreen"></i></li>
                            <li id="full-view-exit"><i class="ti-zoom-out"></i></li>
                            <li class="settings-btn">
                            <i class="ti-settings"></i>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- header area end -->
            <!-- page title area start -->
            <div class="page-title-area">
                <div class="row align-items-center">
                    <div class="col-sm-6">
                        <div class="breadcrumbs-area clearfix">
                            <h4 class="page-title pull-left">Redes</h4>
                            <ul class="breadcrumbs pull-left">
                                <li><a href="http://127.0.0.1:8000">Principal</a></li>
                                <li><span>Red</span></li>
                                <li><span>Zigbee</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 clearfix">
                        <div class="user-profile pull-right">
                            <img class="avatar user-thumb" src="{% static 'assets/images/author/avatar.png' %}" alt="avatar">
                            <h4 class="user-name dropdown-toggle" data-toggle="dropdown">Usuario 1 <i
                                    class="fa fa-angle-down"></i></h4>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href="#">Mensajes</a>
                                <a class="dropdown-item" href="#">Configuración</a>
                                <a class="dropdown-item" href="#">Cerrar Sesion</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- page title area end -->
            <div class="main-content-inner">
                
                    <!-- data table start -->
                    <div class = "row">
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-12 mt-5">
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="header-area text-center">Información del Coordinador Zigbee</h4>
                                            <div class="single-table">
                                                <div class="table-responsive">
                                                    <table class="table text-left">
                                                      
                                                        <tbody>
                                                            <tr>
                                                                <th scope="row">Dispositivo:</th>
                                                                <td>{{device}}</td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">(ID) PAN ID:</th>
                                                                <td>{{pan_id}}</td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">MAC Address:</th>
                                                                <td>{{mac_address}}</td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Baud rate:</th>
                                                                <td>{{bauds}}</td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Parity:</th>
                                                                <td>{{parity}}</td>
                                                            </tr>
                                                            <tr>
                                                                <th scope="row">Flow Control:</th>
                                                                <td>{{flow_control}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div> 
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="header-area">Importante:</h4><br>
                                            <p class="text-justify">Para la modificar la configuración del dispositivo coordinador la red zigbee conectado al Gateway PIICO, es necesario desconectar el modulo XBEE de la Raspberry, conectarlo en su ordenador en un puerto USB  y programarlo usando el software del fabricante.</p>
                                    
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="header-area">1) Instalación del software XCTU</h4><br>
                                            <p class="text-justify">En este instructivo se explica como configurar un modulo XBEE S2C como coordinador y otro como nodo.</p>
                                            <p class="text-justify">Descargue el software XCTU desde el siguiente enlace:</p>
                                            <a href = "https://www.digi.com/products/embedded-systems/digi-xbee/digi-xbee-tools/xctu#productsupport-utilities" target="_blank">XCTU</a>
                                            <p class="text-justify">Al instalar y ejecutar el software, la interfaz del programa es la siguiente</p><br>
                                            <img src="{% static 'assets/images/media/xctu_1.jpg' %}">    
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 mt-5">
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="header-area">2) Configuración de modulos XBEE</h4><br>
                                            <p class="text-justify">Conecte los modulos XBEE en los puertos USB de su ordenador y en el software XCTU seleccione buscar dispositivos como se observa a continuación</p><br>
                                            <img src="{% static 'assets/images/media/xctu_2.jpg' %}"><br>
                                            <br><p>El programa debe abrir una ventana donde se muestran los puertos de comunicación serial donde está conectado cada modulo XBEE con el ordenador. Seleccione los puertos seriales</p>
                                            <br><img src="{% static 'assets/images/media/xctu_3.jpg' %}"><br>
                                            <p>Puede dejar los parametros que viene por defecto</p><br>
                                            <img src="{% static 'assets/images/media/xctu_4.jpg' %}"><br>
                                            <p>Al realizar este proceso se abre una ventana con los dispositivos existentes, Seleccione los dos módulos para realizar la configuración.</p>
                                            <img src="{% static 'assets/images/media/xctu_5.jpg' %}"><br>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 mt-5">
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="header-title">Blockquotes</h4>
                                            <blockquote class="blockquote">
                                                <p class="mb-3">Lorem ipsum dolor sit amet consectetur adipisicing elit. Eius illo fuga sunt nobis possimus incidunt dolor ratione aspernatur doloremque amet, quisquam porro esse distinctio error. Delectus vitae obcaecati, suscipit velit vero illo maxime illum perferendis magnam tenetur praesentium non eligendi.</p>
                                                <footer class="blockquote-footer">Someone famous in
                                                    <cite title="Source Title">Source Title
                                                    </cite>
                                                </footer>
                                            </blockquote>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-12 mt-5">
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="header-area">3) Creación de la red Zigbee</h4><br>
                                            <p class="text-justify">En este menú de configuración se define un (ID PAN ID) igual para toda la red y se habilita la opción (CE Coordinator Enable); Por último, se selecciona el botón Write para guardar los cambios. Siendo estos parámetros lo únicos que se deben configurar al módulo XBEE denominado coordinador</p><br>
                                            <img src="{% static 'assets/images/media/xctu_6.jpg' %}"><br>
                                            <p class="text-justify">En el caso del módulo xbee router, se selecciona el modulo para abrir el menú de configuración, se cambia el parámetro (ID PAN ID) por el mismo que se configuro en el módulo xbee coordinador,se habilita el parámetro (JV Channel Verification) esto permite verificar si hay un coordinador valido en este canal si no hay busca un coordinador valido en otros canales, se verifica si el parámetro (CE Coordinator Enable) se encuentra deshabilitado. Por ultimo se selecciona el boton Write para guardar cambios.
                                                Con esto se configura el modulo xbee en modo router .</p><br>
                                                <img src="{% static 'assets/images/media/xctu_6.jpg' %}"><br>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 mt-5">
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="header-area">4) Verificación de conectividad entre coordinador y nodo</h4><br>
                                            <p class="text-justify">Para verificar la comunicación entre los dispositivos se selecciona en botón consola</p><br>
                                            <img src="{% static 'assets/images/media/xctu_8.jpg' %}"><br>
                                            <p class="text-justify">Con en esta ventana se pueden ver dos consolas ya que tenemos dos módulos conectados </p><br>
                                            <img src="{% static 'assets/images/media/xctu_9.jpg' %}"><br>
                                            <p>Para este proceso se selecciona uno de los dos módulos que se encuentran en el recuadro 1, y se selecciona la opción Open la cual debe cambiar de la siguiente manera.</p><br>
                                            <img src="{% static 'assets/images/media/xctu_11.jpg' %}"><br>
                                            <p>De esta forma los dos módulos ya están listos para la transmisión y recepción de información, para verificar se ingresan un mensaje en la consola del coordinador y posterior a esto se verifica la información obtenida en la consola del módulo router. </p><br>
                                            <p>Si realizó cambios en la configuracion del módulo XBEE coordinador registrelos en el siguiente formulario</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="header-area text-info">Registro de cambios en Coordinador ZIGBEE</h4><br>
                                            <form class="contact-form" method="POST" action="/zigbee_config/">
                                                {% csrf_token %}
                                                <div class="form-group">
                                                    <label for="dispositivo">Dispositivo</label>
                                                    <input type="text" class="form-control" name="device" placeholder="XBEE S2C 2.4Ghz" required="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="pan_id">PAN ID</label>
                                                    <input type="text" class="form-control" name="pan_id" placeholder="192.168.4.2" required="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="MAC">MAC Address</label>
                                                    <input type="text" class="form-control" name="mac" placeholder="0013A2004108211C" required="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="Baud Rate">Baud Rate</label>
                                                    <input type="text" class="form-control" name="bauds" placeholder="9600" required="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="Parity">Parity</label>
                                                    <input type="text" class="form-control" name="parity" placeholder="None" required="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="flow_control">Flow Control</label>
                                                    <input type="text" class="form-control" name="flow_control" placeholder="None" required="">
                                                </div>
                                                <button type="submit" class="btn btn-primary mt-4 pr-4 pl-4">Guardar Cambios</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- data table end -->
                    <!-- Primary table start -->
                
            </div>
        </div>
        <!-- main content area end -->
        <!-- footer area start-->
        <footer>
            <div class="footer-area">
                <p>© Copyright 2019. Todos los derechos reservados. Por <a href="http://piico.ingusb.com/">PIICO</a></p>
            </div>
        </footer>
        <!-- footer area end-->
    </div>
    <!-- page container area end -->
    <!-- offset area start -->
    <div class="offset-area">
        <div class="offset-close"><i class="ti-close"></i></div>
        <ul class="nav offset-menu-tab">
            <li><a class="active" data-toggle="tab" href="#activity">Actividad</a></li>
            <li><a data-toggle="tab" href="#settings">Configuración</a></li>
        </ul>
        <div class="offset-content tab-content">
            <div id="activity" class="tab-pane fade in show active">
                <div class="recent-activity">
                    <div class="timeline-task">
                        <div class="icon bg2">
                            <i class="fa fa-check"></i>
                        </div>
                        <div class="tm-title">
                            <h4>Ingreso al sistema</h4>
                            <span class="time"><i class="ti-time"></i>7 Minutes Ago</span>
                        </div>
                        <p>Usuario 1 loguado en el sistema.
                        </p>
                    </div>
                    <div class="timeline-task">
                        <div class="icon bg2">
                            <i class="fa fa-exclamation-triangle"></i>
                        </div>
                        <div class="tm-title">
                            <h4>Nodo 3 dejó de recibir datos</h4>
                            <span class="time"><i class="ti-time"></i>09:20 Am</span>
                        </div>
                    </div>
                    <div class="timeline-task">
                        <div class="icon bg3">
                            <i class="fa fa-bomb"></i>
                        </div>
                        <div class="tm-title">
                            <h4>Red Zigbee habilitada</h4>
                            <span class="time"><i class="ti-time"></i>09:35</span>
                        </div>
                        <!-- <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse distinctio itaque at.
                        </p> -->
                    </div>
                    <div class="timeline-task">
                        <div class="icon bg3">
                            <i class="ti-signal"></i>
                        </div>
                        <div class="tm-title">
                            <h4>Red Bluetooth habilitada</h4>
                            <span class="time"><i class="ti-time"></i>01 minutes ago</span>
                        </div>
                        <!-- <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse distinctio itaque at.
                        </p> -->
                    </div>
                    <div class="timeline-task">
                        <div class="icon bg3">
                            <i class="fa fa-bomb"></i>
                        </div>
                        <div class="tm-title">
                            <h4>Brokér público dejó de transmitir</h4>
                            <span class="time"><i class="ti-time"></i>09:35</span>
                        </div>
                        <!-- <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse distinctio itaque at.
                        </p> -->
                    </div>
                </div>
            </div>
            <div id="settings" class="tab-pane fade">
                <div class="offset-settings">
                    <h4>General Settings</h4>
                    <div class="settings-list">
                        <div class="s-settings">
                            <div class="s-sw-title">
                                <h5>Wifi</h5>
                                <div class="s-swtich">
                                    <input type="checkbox" id="switch1" />
                                    <label for="switch1">Toggle</label>
                                </div>
                            </div>
                            <!-- <p>Keep it 'On' When you want to get all the notification.</p> -->
                        </div>
                        <div class="s-settings">
                            <div class="s-sw-title">
                                <h5>Zigbee</h5>
                                <div class="s-swtich">
                                    <input type="checkbox" id="switch2" />
                                    <label for="switch2">Toggle</label>
                                </div>
                            </div>
                            <!-- <p>The for attribute is necessary to bind our custom checkbox with the input.</p> -->
                        </div>
                        <div class="s-settings">
                            <div class="s-sw-title">
                                <h5>Bluetooth</h5>
                                <div class="s-swtich">
                                    <input type="checkbox" id="switch3" />
                                    <label for="switch3">Toggle</label>
                                </div>
                            </div>
                            <!-- <p>Show email so that easily find you.</p> -->
                        </div>
                        <div class="s-settings">
                            <div class="s-sw-title">
                                <h5>Actividad</h5>
                                <div class="s-swtich">
                                    <input type="checkbox" id="switch4" />
                                    <label for="switch4">Toggle</label>
                                </div>
                            </div>
                            <!-- <p>The for attribute is necessary to bind our custom checkbox with the input.</p> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- offset area end -->
    <!-- jquery latest version -->
    <script src="{% static 'assets/js/vendor/jquery-2.2.4.min.js' %}"></script>
    <!-- bootstrap 4 js -->
    <script src="{% static 'assets/js/popper.min.js' %}"></script>
    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'assets/js/metisMenu.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.slimscroll.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery.slicknav.min.js' %}"></script>

    <!-- Start datatable js -->
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
    <script src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.18/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap.min.js"></script>
    <!-- others plugins -->
    <script src="{% static 'assets/js/plugins.js' %}"></script>
    <script src="{% static 'assets/js/scripts.js' %}"></script>
</body>

</html>